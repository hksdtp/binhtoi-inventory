<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple Test</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .stats { display: flex; gap: 20px; margin: 20px 0; }
        .stat { padding: 15px; border: 1px solid #ccc; border-radius: 8px; text-align: center; min-width: 100px; }
        .categories { display: flex; gap: 10px; margin: 20px 0; }
        .btn { padding: 10px 15px; border: 1px solid #ccc; border-radius: 20px; cursor: pointer; background: white; }
        .btn.active { background: #007bff; color: white; }
        .number { font-size: 24px; font-weight: bold; color: #007bff; }
    </style>
</head>
<body>
    <h1>ðŸ§ª Simple Test - Thá»‘ng KÃª Theo Danh Má»¥c</h1>
    
    <div class="categories">
        <button class="btn active" onclick="showStats('')">Táº¥t cáº£</button>
        <button class="btn" onclick="showStats('BÃ¬nh Ä‘á»ƒ náº¿n')">BÃ¬nh Ä‘á»ƒ náº¿n</button>
        <button class="btn" onclick="showStats('BÃ¬nh xÃ´ng Ä‘á»‘t tinh dáº§u')">BÃ¬nh xÃ´ng Ä‘á»‘t tinh dáº§u</button>
        <button class="btn" onclick="showStats('Cá»‘c náº¿n thÆ¡m')">Cá»‘c náº¿n thÆ¡m</button>
    </div>
    
    <div class="stats">
        <div class="stat">
            <div class="number" id="count">0</div>
            <div>Tá»•ng SP</div>
        </div>
        <div class="stat">
            <div class="number" id="stock">0</div>
            <div>Tá»•ng tá»“n</div>
        </div>
        <div class="stat">
            <div class="number" id="low">0</div>
            <div>Sáº¯p háº¿t</div>
        </div>
    </div>
    
    <div id="info" style="background: #f8f9fa; padding: 15px; border-radius: 5px; margin-top: 20px;"></div>
    
    <script>
        let allProducts = [];
        
        // Load data
        fetch('products_data.json')
            .then(response => response.json())
            .then(data => {
                allProducts = data;
                showStats(''); // Show all by default
                document.getElementById('info').innerHTML = `âœ… Loaded ${data.length} products successfully`;
            })
            .catch(error => {
                document.getElementById('info').innerHTML = `âŒ Error: ${error}`;
            });
        
        function showStats(category) {
            // Update active button
            document.querySelectorAll('.btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            // Filter products
            let filtered = allProducts;
            if (category) {
                filtered = allProducts.filter(p => p.category === category);
            }
            
            // Calculate stats
            const count = filtered.length;
            const stock = filtered.reduce((sum, p) => sum + p.stock, 0);
            const low = filtered.filter(p => p.stock <= 10).length;
            
            // Update display
            document.getElementById('count').textContent = count;
            document.getElementById('stock').textContent = stock;
            document.getElementById('low').textContent = low;
            
            // Show info
            const categoryName = category || 'Táº¥t cáº£';
            document.getElementById('info').innerHTML = `
                <strong>Danh má»¥c: ${categoryName}</strong><br>
                Sáº£n pháº©m: ${count}<br>
                Tá»•ng tá»“n: ${stock}<br>
                Sáº¯p háº¿t: ${low}<br><br>
                <em>Káº¿t quáº£ mong Ä‘á»£i:</em><br>
                - Táº¥t cáº£: 32 SP, 2602 tá»“n, 0 sáº¯p háº¿t<br>
                - BÃ¬nh Ä‘á»ƒ náº¿n: 9 SP, 726 tá»“n, 0 sáº¯p háº¿t<br>
                - BÃ¬nh xÃ´ng Ä‘á»‘t tinh dáº§u: 18 SP, 1425 tá»“n, 0 sáº¯p háº¿t<br>
                - Cá»‘c náº¿n thÆ¡m: 5 SP, 451 tá»“n, 0 sáº¯p háº¿t
            `;
        }
    </script>
</body>
</html>
